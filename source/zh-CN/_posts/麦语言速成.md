---
title: 麦语言速成
date: 2019-01-17 01:33:55
categories: 量化交易
---

> 因为父亲经常炒期货，我速成一下[麦语言](https://www.wenhua.com.cn/myy/)来减轻一下他的工作量吧。

随着我逐渐了解才发现量化交易并没有我想象中那么简单...单说
[这些业内人士使用的语言](https://www.zhihu.com/question/25404359)就五花八门...:man_facepalming:
[这位仁兄](https://zhuanlan.zhihu.com/p/33839493)则让我大概了解了局面.
站在一个接触编程有一段时间的人的角度，我是觉得用C#编写模型比用麦语言看着NB多了，但我明
显没那水平和精力,更何况我觉得知乎这个提问里的回答都说的很有道理,[能赚钱的工具就是好工具](https://www.zhihu.com/question/36803590)
。还是老老实实研究一下传说中用**易语言**编写的麦语言:man_facepalming:

> 看资料过程中[交易开拓者](http://www.tradeblazer.net/)(简称**TB**)和
> [MultiCharts](https://www.multicharts.cn/)(简称**MC**)也经常被提及。

## 主要参考资料

- [网上找到的一套PPT教程](麦语言速成/教程.zip)，并附上对应视频教程的[百度云链接](https://pan.baidu.com/s/1foE6ORfqdGHyTQ-ZW9NPVg)
- [智赢wh8使用说明书](http://www.wenhua.com.cn/guide/wh8/index.htm)
- [wh8语法参考](http://www.wenhua.com.cn/guide/wh8_zjyfhs2.htm)

这套PPT有文华财经的水印，大概是官方教程吧。而且我觉得讲得很浅显也比较详细了,好评:smile:

**P.S.**: 这套教程主要讲解的是趋势跟踪模型的语法.

## 麦语言语法简记

### 算法交易模型与趋势跟踪模型

打开wh8后我发现可以用来交易的分两种模型 (即代码), 分
[算法交易模型和趋势跟踪模型](http://www.wenhua.com.cn/new_guide/Wh8/view4_6.html),
普通的趋势交易策略使用趋势模型编写，加载到程序化平台运行实现自动交易；
与趋势无关的盘口高频交易模型，需要用算法模型编写. 一开始我并没有理解这两种模型的区别,
看到算法交易模型使用的是类C语法就果断开始写这个, 后来我才发现其中区别:

- 趋势跟踪模型中可以调用很多常用分析指标, 比如布林通道, 比如指数加权移动平均, 更注重对目标的**趋势**的分析
  而算法跟踪模型更多的是能给出未经处理的数据, 甚至不提供EMA等看起来很基础的分析指标, 这类
  模型更注重于对实时行情 (即盘口) 的处理.

### 算法交易模型与C的比较

算法交易模型这个类C语法就很OK:satisfied:, 是熟悉的感觉. 使用下来感觉与C语言语法区别主要如下:

- 不需要引用头文件
- 变量可以用**GLOBAL_VAR**或**VAR**关键字来声明, 变量是动态数据类型, 似乎也可以使用
  **WriteGlobal**, **WriteGlobalF** 等来定义整型, 浮点等变量. (文华给出的所有示例中
  定义变量竟然全部定义的全局变量也是很迷了)
- 函数类型可以是**VOID**或**VAR**, 当然如果需要返回值需要定义为**VAR**型
- 函数, 变量可以先引用后声明
- 麦语言的函数是可以有返回值的! 但是要把要返回的值括起来. (参考[这里](http://www.wenhua.com.cn/guide/wh8_zjyfhs2.htm))

### 模组

算法交易模型中可以调用的一大串函数有类似:point_down:这样的函数说明.

```text
注：
该函数前必须用AA.的形式来调用，其中AA为字符串变量或者模组名。该函数不能单独使用。
```

开始我以为模组也是模型的意思, 后来看到示例里的用法似乎模组类似于**类**, 每个模组
(类的实例) 对应一个合约, 可以调用里面的各种函数来处理这个合约的数据, :thinking:
我是这样理解的

### 跨周期编写

<!-- TODO -->

## 附录

搜索过程中看到的[十六套经典策略](https://zhuanlan.zhihu.com/p/52867020)